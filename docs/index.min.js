!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("echarts/lib/echarts"),require("echarts/lib/component/tooltip"),require("echarts/lib/component/legend"),require("echarts/lib/chart/bar"),require("echarts"),require("echarts/lib/chart/line")):"function"==typeof define&&define.amd?define(["echarts/lib/echarts","echarts/lib/component/tooltip","echarts/lib/component/legend","echarts/lib/chart/bar","echarts","echarts/lib/chart/line"],t):e.VeIndex=t(e.echarts,null,null,null,null)}(this,function(e,t,n,i,a){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,a=a&&a.hasOwnProperty("default")?a.default:a;var r={categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}},o=["#709DFF","#47CF88","#FED723","#FF6265","#8C7EF9","#687B9B"],s=["#719CFF","#28D1D1","#51E7C2","#45D08A","#FED725","#FF9C59","#FF6165","#9F95FD","#3B7FFE","#667B9F"],l=["#7CA7FF","#CADCFE","#2CD7D4","#BAF6E9","#A2EFEE","#5BE9C7","#4ED696","#B4EFD5","#FEDC2A","#FEF1A1","#FF9C5A","#FEE0C5","#FF6262","#8A7FFC","#A095FC","#3B7FFF","#AFCFFF","#687B9D","#B3BDCE"],c=function(e){return['<span style="',"background-color:"+e+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},d=["initOptions","loading","dataEmpty","judgeWidth","widthChangeDelay"],h=["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"],u={th:3,mi:6,bi:9,tr:12},f={zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0,abbrLabel:{th:"k",mi:"m",bi:"b",tr:"t"}},p=1e12,m=1e9,A=1e6,y=1e3;function g(e,t,n,i){var a=e.toString().split("."),r=t-(i||0),o=2===a.length?Math.min(Math.max(a[1].length,r),t):r,s=Math.pow(10,o),l=(n(e+"e+"+o)/s).toFixed(o);if(i>t-o){var c=new RegExp("\\.?0{1,"+(i-(t-o))+"}$");l=l.replace(c,"")}return l}function b(e,t,n,i){var a=Math.abs(t),r=!1,o=!1,s="",l="",c=!1,d=void 0,h=void 0;n=n||"",t=t||0,~n.indexOf("(")?(r=!0,n=n.replace(/[(|)]/g,"")):(~n.indexOf("+")||~n.indexOf("-"))&&(h=~n.indexOf("+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[+|-]/g,"")),~n.indexOf("a")&&(d=!!(d=n.match(/a(k|m|b|t)?/))&&d[1],~n.indexOf(" a")&&(s=" "),n=n.replace(new RegExp(s+"a[kmbt]?"),""),a>=p&&!d||"t"===d?(s+=e.abbrLabel.tr,t/=p):a<p&&a>=m&&!d||"b"===d?(s+=e.abbrLabel.bi,t/=m):a<m&&a>=A&&!d||"m"===d?(s+=e.abbrLabel.mi,t/=A):(a<A&&a>=y&&!d||"k"===d)&&(s+=e.abbrLabel.th,t/=y)),~n.indexOf("[.]")&&(o=!0,n=n.replace("[.]","."));var f=t.toString().split(".")[0],b=n.split(".")[1],v=n.indexOf(","),x=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length;if(b?(f=(l=~b.indexOf("[")?g(t,(b=(b=b.replace("]","")).split("["))[0].length+b[1].length,i,b[1].length):g(t,b.length,i)).split(".")[0],l=~l.indexOf(".")?"."+l.split(".")[1]:"",o&&0==+l.slice(1)&&(l="")):f=g(t,0,i),s&&!d&&+f>=1e3&&s!==u.trillion&&(f=""+ +f/1e3,s=u.million),~f.indexOf("-")&&(f=f.slice(1),c=!0),f.length<x)for(var C=x-f.length;C>0;C--)f="0"+f;v>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),n.indexOf(".")||(f="");var E=f+l+(s||"");return r?E=(r&&c?"(":"")+E+(r&&c?")":""):h>=0?E=0===h?(c?"-":"+")+E:E+(c?"-":"+"):c&&(E="-"+E),E}function v(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}var x={},C={};function E(e,t,n){return function(e,t,n){t=t||x.defaultFormat,n=n||Math.round;var i=void 0,a=void 0;if(0===e&&null!==x.zeroFormat)i=x.zeroFormat;else if(null===e&&null!==x.nullFormat)i=x.nullFormat;else{for(var r in C)if(C[r]&&t.match(C[r].regexp)){a=C[r].format;break}i=(a=a||b.bind(null,x))(e,t,n,E)}return i}(0===e||void 0===e?0:null===e||function(e){return"number"==typeof e&&isNaN(e)}(e)?null:"string"==typeof e?x.zeroFormat&&e===x.zeroFormat?0:x.nullFormat&&e===x.nullFormat||!e.replace(/[^0-9]+/g,"").length?null:+e:+e||null,t,n)}v(x,f),E.options=x,E._numberToFormat=b.bind(null,x),E.register=function(e,t){C[e]=t},E.unregister=function(e){C[e]=null},E.setOptions=function(e){v(x,e)},E.reset=function(){v(x,f)},E.register("percentage",{regexp:/%/,format:function(e,t,n,i){var a=~t.indexOf(" %")?" ":"",r=void 0;return i.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?%/,""),~(r=i._numberToFormat(e,t,n)).indexOf(")")?((r=r.split("")).splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%",r}});var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function w(e,t){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,a)},t)}}function F(e,t,n){if(t){var i=e,a=t.split(".");a.forEach(function(e,t){t===a.length-1?i[e]=n:(i[e]||(i[e]={}),i=i[e])})}}var j="function"==typeof Symbol&&"symbol"===O(Symbol.iterator)?function(e){return void 0===e?"undefined":O(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":O(e)};function z(e){return Object.prototype.toString.call(e)}function B(e){return void 0===e?"undefined":j(e)}function _(e){return"[object Object]"===z(e)}function L(e){return"[object Array]"===z(e)}function T(e){return JSON.parse(JSON.stringify(e))}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(isNaN(e))return i;if(!t)return e;if("[object Function]"===z(t))return t(e,E);n=isNaN(n)?0:++n;var a=".["+new Array(n).join(0)+"]",r=t;switch(t){case"KMB":r=n?"0,0"+a+"a":"0,0a";break;case"normal":r=n?"0,0"+a:"0,0";break;case"percent":r=n?"0,0"+a+"%":"0,0.[00]%"}return E(e,r)},$=function(e){var t={};return Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[e]=n})}),t},H=.5;function R(e){var t=e.innerRows,n=e.dimAxisName,i=e.dimension,a=e.axisVisible,r=e.dimAxisType,o=e.dims;return i.map(function(e){return{type:"category",name:n,nameLocation:"middle",nameGap:22,data:"value"===r?function(e){for(var t=Math.max.apply(null,e),n=[],i=Math.min.apply(null,e);i<=t;i++)n.push(i);return n}(o):t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:a}})}function M(e){var t,n=e.innerRows,i=e.metrics,a=e.stack,r=e.axisSite,o=e.isHistogram,s=e.labelMap,l=e.itemStyle,c=e.label,d=e.showLine,h=void 0===d?[]:d,u=e.dimAxisType,f=e.barGap,p=e.opacity,m=e.dims,A={},y=o?r.right||[]:r.top||[],g=o?"yAxisIndex":"xAxisIndex",b=a&&$(a);return i.forEach(function(e){A[e]=[]}),n.forEach(function(e){i.forEach(function(t){A[t].push(e[t])})}),!!(t=Object.keys(A).map(function(e,t){var n="value"===u?function(e,t){for(var n=Math.max.apply(null,t),i=[],a=Math.min.apply(null,t);a<=n;a++){var r=t.indexOf(a);~r?i.push(e[r]):i.push(null)}return i}(A[e],m):A[e],i=S({name:null!=s[e]?s[e]:e,type:~h.indexOf(e)?"line":"bar",data:n},g,~y.indexOf(e)?"1":"0");a&&b[e]&&(i.stack=b[e]),c&&(i.label=c),l&&(i.itemStyle=l);var r=p||function(e,t,n){if(!t)return e;var i=e;return t.split(".").some(function(e,t){if(void 0===i[e])return i=n,!0;i=i[e]}),i}(i,"itemStyle.normal.opacity");return"value"===u&&(i.barGap=f,i.barCategoryGap="1%",null==r&&(r=H)),null!=r&&F(i,"itemStyle.normal.opacity",r),i})).length&&t}var V=function(e,t,n,i){var a=T(t),r=n.axisSite,o=void 0===r?{}:r,s=n.dimension,l=void 0===s?[e[0]]:s,d=n.stack,h=void 0===d?{}:d,u=n.axisVisible,f=void 0===u||u,p=n.digit,m=void 0===p?2:p,A=n.dataOrder,y=void 0!==A&&A,g=n.scale,b=void 0===g?[!1,!1]:g,v=n.min,x=void 0===v?[null,null]:v,C=n.max,E=void 0===C?[null,null]:C,O=n.legendName,S=void 0===O?{}:O,w=n.labelMap,F=void 0===w?{}:w,j=n.label,z=n.itemStyle,B=n.showLine,_=n.barGap,L=void 0===_?"-100%":_,N=n.opacity,$=i.tooltipVisible,H=i.legendVisible,V=e.slice();o.top&&o.bottom?V=o.top.concat(o.bottom):o.bottom&&!o.right?V=o.bottom:n.metrics?V=n.metrics:V.splice(e.indexOf(l[0]),1);var P=n.xAxisType||["normal","normal"],I=n.yAxisType||"category",W=n.xAxisName||[],U=n.yAxisName||"";if(y){var G=y.label,q=y.order;G&&q?a.sort(function(e,t){return"desc"===q?e[G]-t[G]:t[G]-e[G]}):console.warn("Need to provide name and order parameters")}var Z=function(e,t){return e.map(function(e){return e[t[0]]})}(a,l),J=H&&function(e){var t=e.metrics,n=e.labelMap,i=e.legendName;return i||n?{data:n?t.map(function(e){return null==n[e]?e:n[e]}):t,formatter:function(e){return null!=i[e]?i[e]:e}}:{data:t}}({metrics:V,labelMap:F,legendName:S}),Q=R({innerRows:a,dimAxisName:U,dimension:l,axisVisible:f,dimAxisType:I,dims:Z}),X=function(e){for(var t=e.meaAxisName,n=e.meaAxisType,i=e.axisVisible,a=e.digit,r=e.scale,o=e.min,s=e.max,l={type:"value",axisTick:{show:!1},show:i},c=[],d=function(e){n[e]?c[e]=k({},l,{axisLabel:{formatter:function(t){return D(t,n[e],a)}}}):c[e]=k({},l),c[e].name=t[e]||"",c[e].scale=r[e]||!1,c[e].min=o[e]||null,c[e].max=s[e]||null},h=0;h<2;h++)d(h);return c}({meaAxisName:W,meaAxisType:P,axisVisible:f,digit:m,scale:b,min:x,max:E});return{legend:J,yAxis:Q,series:M({innerRows:a,metrics:V,stack:h,axisSite:o,isHistogram:!1,labelMap:F,itemStyle:z,label:j,showLine:B,dimAxisType:I,dimension:l,barGap:L,opacity:N,dims:Z}),xAxis:X,tooltip:$&&function(e){var t=e.axisSite,n=e.isHistogram,i=e.meaAxisType,a=e.digit,r=e.labelMap,o=n?t.right||[]:t.top||[];return r&&(o=o.map(function(e){return void 0===r[e]?e:r[e]})),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach(function(e){var n=e.seriesName,r=~o.indexOf(n)?i[1]:i[0];t.push(c(e.color)),t.push(n+": "),t.push(D(e.value,r,a)),t.push("<br>")}),t.join("")}}}({axisSite:o,isHistogram:!1,meaAxisType:P,digit:m,labelMap:F})}};function P(e,t,n,i,a,r,o,s,l,c){"boolean"!=typeof o&&(l=s,s=o,o=!1);var d="function"==typeof n?n.options:n;e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),i&&(d._scopeId=i);var h=void 0;if(r?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=h):t&&(h=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),h)if(d.functional){var u=d.render;d.render=function(e,t){return h.call(t),u(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,h):[h]}return n}var I="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function W(e){return function(e,t){return function(e,t){var n=I?t.media||"default":e,i=G[n]||(G[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===U&&(U=document.head||document.getElementsByTagName("head")[0]),U.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,o=document.createTextNode(a),s=i.element.childNodes;s[r]&&i.element.removeChild(s[r]),s.length?i.element.insertBefore(o,s[r]):i.element.appendChild(o)}}}(e,t)}}var U=void 0,G={};var q=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-charts-component-loading"},[t("div",{staticClass:"loader"},[t("div",{staticClass:"loading-spinner"},[t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])};q._withStripped=!0;var Z=P({render:q,staticRenderFns:[]},function(e){e&&e("data-v-55d580e4_0",{source:"\n.v-charts-component-loading {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, .9);\n}\n.v-charts-mask-status {\n  filter: blur(1px);\n}\n.v-charts-component-loading .circular {\n  width: 42px;\n  height: 42px;\n  animation: loading-rotate 2s linear infinite;\n}\n.v-charts-component-loading .path {\n  animation: loading-dash 1.5s ease-in-out infinite;\n  stroke-dasharray: 90,150;\n  stroke-dashoffset: 0;\n  stroke-width: 2;\n  stroke: #20a0ff;\n  stroke-linecap: round;\n}\n@keyframes loading-rotate {\n100% {\n    transform: rotate(360deg);\n}\n}\n@keyframes loading-dash {\n0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n}\n50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -40px;\n}\n100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -120px;\n}\n}\n",map:{version:3,sources:["/Users/gaowujun/tanzhou/tz-chart/src/components/loading.vue"],names:[],mappings:";AAaA;EACA,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,yCAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,WAAA;EACA,YAAA;EACA,4CAAA;AACA;AAEA;EACA,iDAAA;EACA,wBAAA;EACA,oBAAA;EACA,eAAA;EACA,eAAA;EACA,qBAAA;AACA;AAEA;AACA;IACA,yBAAA;AACA;AACA;AAEA;AACA;IACA,wBAAA;IACA,oBAAA;AACA;AACA;IACA,yBAAA;IACA,wBAAA;AACA;AACA;IACA,yBAAA;IACA,yBAAA;AACA;AACA",file:"loading.vue",sourcesContent:['<template>\n  <div class="v-charts-component-loading">\n    <div class="loader">\n      <div class="loading-spinner">\n        <svg class="circular" viewBox="25 25 50 50">\n          <circle class="path" cx="50" cy="50" r="20" fill="none"/>\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.v-charts-component-loading {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, .9);\n}\n\n.v-charts-mask-status {\n  filter: blur(1px);\n}\n\n.v-charts-component-loading .circular {\n  width: 42px;\n  height: 42px;\n  animation: loading-rotate 2s linear infinite;\n}\n\n.v-charts-component-loading .path {\n  animation: loading-dash 1.5s ease-in-out infinite;\n  stroke-dasharray: 90,150;\n  stroke-dashoffset: 0;\n  stroke-width: 2;\n  stroke: #20a0ff;\n  stroke-linecap: round;\n}\n\n@keyframes loading-rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loading-dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -40px;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -120px;\n  }\n}\n</style>\n']},media:void 0})},{},void 0,!1,void 0,!1,W,void 0,void 0),J=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"v-charts-data-empty"},[this._v("\n  暂无数据\n")])};J._withStripped=!0;var Q=P({render:J,staticRenderFns:[]},function(e){e&&e("data-v-a8d93b58_0",{source:"\n.v-charts-data-empty {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, .9);\n  color: #888;\n  font-size: 14px;\n}\n",map:{version:3,sources:["/Users/gaowujun/tanzhou/tz-chart/src/components/data-empty.vue"],names:[],mappings:";AAOA;EACA,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,yCAAA;EACA,WAAA;EACA,eAAA;AACA",file:"data-empty.vue",sourcesContent:['<template>\n  <div class="v-charts-data-empty">\n    暂无数据\n  </div>\n</template>\n\n<style>\n.v-charts-data-empty {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, .9);\n  color: #888;\n  font-size: 14px;\n}\n</style>\n']},media:void 0})},{},void 0,!1,void 0,!1,W,void 0,void 0);function X(e,t){Object.keys(t).forEach(function(n){t[n]&&(e[n]=t[n])})}var K={render:function(e){return e("div",{class:[(t=this.$options.name||this.$options._componentTag,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())],style:this.canvasStyle},[e("div",{style:this.canvasStyle,class:{"v-charts-mask-status":this.dataEmpty||this.loading},ref:"canvas"}),e(Q,{style:{display:this.dataEmpty?"":"none"}}),e(Z,{style:{display:this.loading?"":"none"}}),this.$slots.default]);var t},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:[Object,Array],legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:[Object,Array],brush:[Object,Array],geo:[Object,Array],timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:[Object,Array],animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!1},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function},resizeable:{type:Boolean,default:!0},resizeDelay:{type:Number,default:200},changeDelay:{type:Number,default:0},setOptionOpts:{type:[Boolean,Object],default:!0},cancelResizeCheck:Boolean,notSetUnchange:Array,log:Boolean},watch:{data:{deep:!0,handler:function(e){e&&this.changeHandler()}},settings:{deep:!0,handler:function(e){e.type&&this.chartLib&&(this.chartHandler=this.chartLib[e.type]),this.changeHandler()}},width:"nextTickResize",height:"nextTickResize",events:{deep:!0,handler:"createEventProxy"},theme:{deep:!0,handler:"themeChange"},themeName:"themeChange",resizeable:"resizeableHandler"},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||o}},methods:{dataHandler:function(){if(this.chartHandler){var e=this.data,t=e,n=t.columns,i=void 0===n?[]:n,a=t.rows,r=void 0===a?[]:a,o={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter,_once:this._once};this.beforeConfig&&(e=this.beforeConfig(e));var s=this.chartHandler(i,r,this.settings,o);s&&("function"==typeof s.then?s.then(this.optionsHandler):this.optionsHandler(s))}},nextTickResize:function(){this.$nextTick(this.resize)},resize:function(){this.cancelResizeCheck?this.echartsResize():this.$el&&this.$el.clientWidth&&this.$el.clientHeight&&this.echartsResize()},echartsResize:function(){this.echarts&&this.echarts.resize()},mergeData:function(e,t){for(var n in e||(e={}),t)t[n]&&(t[n]instanceof Object?e[n]=this.mergeData(e[n],t[n]):e[n]=t[n]);return e},optionsHandler:function(t){var n=this;if(this.legendPosition&&t.legend&&(t.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(t.legend.top="middle",t.legend.orient="vertical")),t.color=this.chartColor,h.forEach(function(e){n[e]&&(t[e]=n.mergeData(t[e],n[e]))}),this.animation&&function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}(t,this.animation),this.markArea||this.markLine||this.markPoint){var i={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},a=t.series;L(a)?a.forEach(function(e){X(e,i)}):_(a)&&X(a,i)}this.extend&&function(e,t){Object.keys(t).forEach(function(n){var i=t[n];~n.indexOf(".")?F(e,n,i):"function"==typeof i?e[n]=i(e[n]):L(e[n])&&_(e[n][0])?e[n].forEach(function(t,a){e[n][a]=k({},t,i)}):_(e[n])?e[n]=k({},e[n],i):e[n]=i})}(t,this.extend),this.afterConfig&&(t=this.afterConfig(t));var r=this.setOptionOpts;!this.settings.bmap&&!this.settings.amap||_(r)||(r=!1),this.notSetUnchange&&this.notSetUnchange.length&&(this.notSetUnchange.forEach(function(e){var i=t[e];i&&(!function e(t,n){if(t===n)return!0;if(null===t||null===n||"object"!==B(t)||"object"!==B(n))return t===n;for(var i in t)if(N(t,i)){var a=t[i],r=n[i],o=B(a);if("undefined"===B(r))return!1;if("object"===o){if(!e(a,r))return!1}else if(a!==r)return!1}for(var s in n)if(N(n,s)&&"undefined"===B(t)[s])return!1;return!0}(i,n._store[e])?n._store[e]=T(i):t[e]=void 0)}),_(r)?r.notMerge=!1:r=!1),this._isDestroyed||(this.log&&console.log(t),this.echarts.setOption(t,r),this.$emit("ready",this.echarts,t,e),this._once["ready-once"]||(this._once["ready-once"]=!0,this.$emit("ready-once",this.echarts,t,e)),this.judgeWidth&&this.judgeWidthHandler(t),this.afterSetOption&&this.afterSetOption(this.echarts,t,e),this.afterSetOptionOnce&&!this._once.afterSetOptionOnce&&(this._once.afterSetOptionOnce=!0,this.afterSetOptionOnce(this.echarts,t,e)))},judgeWidthHandler:function(e){var t=this,n=this.widthChangeDelay,i=this.resize;this.$el.clientWidth||this.$el.clientHeight?i():this.$nextTick(function(e){t.$el.clientWidth||t.$el.clientHeight?i():setTimeout(function(e){i(),t.$el.clientWidth&&t.$el.clientHeight||console.warn(" Can't get dom width or height ")},n)})},resizeableHandler:function(e){e&&!this._once.onresize&&this.addResizeListener(),!e&&this._once.onresize&&this.removeResizeListener()},init:function(){if(!this.echarts){var t=this.themeName||this.theme||r;this.echarts=e.init(this.$refs.canvas,t,this.initOptions),this.data&&this.changeHandler(),this.createEventProxy(),this.resizeable&&this.addResizeListener()}},addResizeListener:function(){window.addEventListener("resize",this.resizeHandler),this._once.onresize=!0},removeResizeListener:function(){window.removeEventListener("resize",this.resizeHandler),this._once.onresize=!1},addWatchToProps:function(){var e=this,t=this._watchers.map(function(e){return e.expression});Object.keys(this.$props).forEach(function(n){if(!~t.indexOf(n)&&!~d.indexOf(n)){var i={};~["[object Object]","[object Array]"].indexOf(z(e.$props[n]))&&(i.deep=!0),e.$watch(n,function(){e.changeHandler()},i)}})},createEventProxy:function(){var e=this,t=this,n=Object.keys(this.events||{});n.length&&n.forEach(function(n){-1===e.registeredEvents.indexOf(n)&&(e.registeredEvents.push(n),e.echarts.on(n,function(e){return function(){if(e in t.events){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];t.events[e].apply(null,i)}}}(n)))})},themeChange:function(e){this.clean(),this.echarts=null,this.init()},clean:function(){this.resizeable&&this.removeResizeListener(),this.echarts.dispose()}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this._store={},this.resizeHandler=w(this.resize,this.resizeDelay),this.changeHandler=w(this.dataHandler,this.changeDelay),this.addWatchToProps()},mounted:function(){this.init()},beforeDestroy:function(){this.clean()},_numerify:E},Y=k({},K,{name:"VeBar",data:function(){return this.chartHandler=V,{}}});function ee(e){var t=e.rows,n=e.axisSite,i=e.metrics,r=e.area,c=e.stack,d=e.nullAddZero,h=e.labelMap,u=e.label,f=e.itemStyle,p=e.lineStyle,m=void 0===p?{normal:{width:2,type:"solid"}}:p,A=e.areaStyle,y=e.dimension,g=[],b={},v=c&&$(c),x=[];return f&&f.length===i.length?x=f:i.forEach(function(e){var t=i.indexOf(e),n={normal:{color:function(e,t){return e.length<=6?o[t]:e.length>6&&e.length<=10?s[t]:e.length>10&&e.length<=20?l[t]:l[0]}(i,t)}};x.push(n)}),i.forEach(function(e){b[e]=[]}),t.forEach(function(e){i.forEach(function(t){var n=null;null!=e[t]?n=e[t]:d&&(n=0),b[t].push([e[y[0]],n])})}),i.forEach(function(e){var t={name:null!=h[e]?h[e]:e,type:"line",data:b[e]};r&&(t.areaStyle={normal:{color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 205, 47, 0.2)"},{offset:1,color:"rgba(255, 205, 47, 0)"}],!1),shadowColor:"rgba(255, 205, 47, 0.1)",shadowBlur:10}}),t.yAxisIndex=0,n.right&&(t.yAxisIndex=n.right.indexOf(t.name)>=0?1:0),c&&v[e]&&(t.stack=v[e]);var o=i.indexOf(e);u&&(t.label=u),x[o]&&(t.itemStyle=x[o]),m&&(t.lineStyle=m),A&&(t.areaStyle=A),t.smooth=!1,t.symbol="circle",t.symbolSize=6,t.showSymbol=!0,t.barGap="15",g.push(t)}),g}function te(e,t){if(t>1){for(var n=(t+"").split(".")[0],i=parseInt(n.substring(0,1))+1,a=0;a<n.substring(1,n.length).length;a++)i+="0";t=parseInt(i)}else t=1;return{max:t,min:e,interval:parseFloat(((t-e)/4).toString(),10)}}var ne=function(e,t,n,i){t=L(t)?t:[],e=L(e)?e:[];var a=n.axisSite,r=void 0===a?{}:a,o=n.yAxisType,s=void 0===o?["normal","normal"]:o,l=n.xAxisType,c=void 0===l?"category":l,d=n.yAxisName,h=void 0===d?[]:d,u=n.dimension,f=void 0===u?[e[0]]:u,p=n.xAxisName,m=void 0===p?[]:p,A=n.axisVisible,y=void 0===A||A,g=n.area,b=n.stack,v=n.scale,x=void 0===v?[!1,!1]:v,C=n.min,E=n.max,O=n.nullAddZero,S=void 0!==O&&O,w=n.digit,F=void 0===w?2:w,j=n.legendName,z=void 0===j?{}:j,B=n.labelMap,_=void 0===B?{}:B,T=n.label,N=n.itemStyle,$=n.lineStyle,H=n.areaStyle,R=n.grid;function M(e,t){var n=0;return e.forEach(function(e){n<e[t]&&(n=e[t])}),n}var V=e.concat();V.splice(0,1);var P=[];if(r.right)for(var I in r.right){var W=r.right[I];V.splice(V.indexOf(W),1),P.push(W)}var U=0;V.forEach(function(e){var n=M(t,e);U<n&&(U=n)});var G=0;P.forEach(function(e){var n=M(t,e);G<n&&(G=n)});var q=[0,0];E||(q[0]=U,q[1]=G);var Z=[0,0];C||(Z[0]=0,Z[1]=0);var J=i.tooltipVisible,Q=i.legendVisible,X=i.tooltipFormatter,K=e.slice();r.left&&r.right?K=r.left.concat(r.right):r.left&&!r.right?K=r.left:n.metrics?K=n.metrics:K.splice(e.indexOf(f[0]),1);var Y=Q&&function(e){var t=e.metrics,n=e.legendName,i=e.labelMap;if(!n&&!i)return{data:t};var a=i?t.map(function(e){return null==i[e]?e:i[e]}):t;return k({itemWidth:15,itemHeight:8,itemGap:14},{top:18,right:20},{data:a,textStyle:{fontSize:10,color:"#999999"},formatter:function(e){return null!=n[e]?n[e]:e}})}({metrics:K,legendName:z,labelMap:_}),ne=J&&function(e){var t=e.axisSite,n=e.yAxisType,i=e.digit,a=e.labelMap,r=e.tooltipFormatter,o=t.right||[],s=a?o.map(function(e){return void 0===a[e]?e:a[e]}):o;return{trigger:"axis",extraCssText:"box-shadow:0px 4px 10px 0px rgba(0,52,113,0.1);",backgroundColor:"#fff",textStyle:{fontSize:12,color:"#57617B"},axisPointer:{type:"line",lineStyle:{color:"#E4E7ED",width:1,type:"dashed"}},formatter:function(e){if(r)return r.apply(null,arguments);var t=[],a=e[0],o=a.name,l=a.axisValueLabel,c=o||l;return t.push(c+"<br>"),e.forEach(function(e){var a,r=e.seriesName,o=e.data,l=e.color,c=~s.indexOf(r)?n[1]:n[0],d=L(o)?o[1]:o;a=D(d,c,i);var h='<span style="display:inline-block;margin-right:5px;border-radius:6px;width:6px;height:6px;background-color:'+l+';"></span>';t.push(h),t.push(r+": "+a),t.push("<br>")}),t.join("")}}}({axisSite:r,yAxisType:s,digit:F,labelMap:_,xAxisType:c,tooltipFormatter:X}),ie=function(e){var t=e.dimension,n=e.rows,i=e.xAxisName,a=e.axisVisible,r=e.xAxisType;return t.map(function(e,t){return{type:r,nameLocation:"middle",nameGap:22,name:i[t]||"",axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#E4E7ED"}},data:n.map(function(t){return t[e]}),show:a,axisLabel:{margin:10,textStyle:{fontSize:10,color:"rgba(153, 153, 153, 1)"}},axisLine:{lineStyle:{color:"#E4E7ED"}}}})}({dimension:f,rows:t,xAxisName:m,axisVisible:y,xAxisType:c}),ae=function(e){for(var t=e.yAxisName,n=e.yAxisType,i=e.axisVisible,a=e.scale,r=e.emin,o=e.emax,s=e.digit,l={type:"value",axisTick:{show:!1},show:i,axisLine:{lineStyle:{color:"#fff"}},position:"left"},c=[],d=function(e){n[e]?c[e]=k({},l,{axisLabel:{formatter:function(t){return D(t,n[e],s)},textStyle:{fontSize:10,color:"rgba(153, 153, 153, 1)"}}}):c[e]=k({},l),c[e].name=t[e]||"",c[e].scale=a[e]||!1,c[e].min=r[e]||null,c[e].max=te(r[e],o[e]).max,c[e].interval=te(r[e],o[e]).interval,c[e].splitLine={lineStyle:{type:"dashed",color:"#E4E7ED"}},1===e&&(c[e].position="right")},h=0;h<2;h++)d(h);return c}({yAxisName:h,yAxisType:s,axisVisible:y,scale:x,emin:Z,emax:q,digit:F});return{title:{textStyle:{fontSize:16,fontWeight:500},padding:[20,20,20,20]},legend:Y,xAxis:ie,series:ee({rows:t,axisSite:r,metrics:K,area:g,stack:b,nullAddZero:S,labelMap:_,label:T,itemStyle:N,lineStyle:$,areaStyle:H,xAxisType:c,dimension:f}),yAxis:ae,tooltip:ne,grid:k({},{left:20,right:20,bottom:20,top:60,containLabel:!0},R)}},ie=k({},K,{name:"VeLine",data:function(){return this.chartHandler=ne,{}}}),ae=[Y,ie];function re(e,t){ae.forEach(function(t){e.component(t.name,t)})}return"undefined"!=typeof window&&window.Vue&&re(window.Vue),{VeBar:Y,VeLine:ie,install:re}});
